# 应用启动器
框架向应用层提供了App函数，应用通过该函数告知框架应用的一些基本情况，框架则会通过该函数进一步配置应用并启动应用，这个App函数就是应用启动器

## 1、应用启动器
启动器是框架提供给应用的唯一接入点，如下方式使用启动器：
```
// 导入框架提供的App启动函数
import App from '@core/App';
// 导入应用的状态
import store from './store';
// 导入应用的路由
import routes from './routes';

/**
 * 1、告诉通用框架你的应用相关信息：
 * (1)顶层路由配置信息
 * (2)应用状态配置信息
 * 
 * 2、框架会启动你的Application
 */
App({
    store,
    routes
});
```

## 2、应用的挂载点(单vue实例)

应用的开发实际是开发一个一个组件（component），组件包括复用度低得业务组件 和 支持灵活配置高复用的公共组件，然后将一个个组件堆叠成可以实现某个具体业务的大组件，我们将它称作 “模块（module）”，所以 “模块” 实际也是组件，更确切地讲它是组件的集合，开发模式还是跟组件一模一样。那么概念谈到这里就会有个疑问了，应用开发的 组件 或 模块 是如何挂载的?

答案是：框架的设计是一个应用有且只会有一个vue实例，并且框架层提供了一个app根路由组件，应用所有的模块都将被挂载到该组件下面。

如下图所示，
```
<div id="app">
    <!-- 你的应用 -->
</div>
```
节点就是应用挂载的根节点，你的应用所有内容都会被塞到该节点里面

![image](https://github.com/linmingdao/v-bonjour/raw/doc/doc/assets/app_mount.png)

## 3、why: 一个应用有且只会有一个vue实例 ?

* 单看应用的模块，每个模块都是由组件堆叠而成的一颗组件树，又因为框架层统一提供了一个应用组件挂载的根路由组件，所以最终应用是一棵组件树，而树结构只会有一个根节点。

* 应用会有自己的状态（框架是使用 Vuex 实现应用的状态树），应用的每个组件都会一一对应一块自己的状态，这样应用的状态也会形成一棵状态树。

  ![image](https://github.com/linmingdao/v-bonjour/raw/doc/doc/assets/app_tree.png)

基于以上两点，为了方便管理应用组件树和状态树的一一对应，框架的设计选择了单vue实例，应用的组件和状态都注册到该唯一的vue实例上。